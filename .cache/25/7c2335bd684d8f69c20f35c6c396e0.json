{"id":"OWxC","dependencies":[{"name":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1556124645278},{"name":"../languageFacts/facts.js","loc":{"line":6,"column":31},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lint.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/languageFacts/facts.js"},{"name":"./lintRules.js","loc":{"line":7,"column":32},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lint.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lintRules.js"},{"name":"../parser/cssNodes.js","loc":{"line":8,"column":23},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lint.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssNodes.js"},{"name":"./lintUtil.js","loc":{"line":9,"column":43},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lint.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lintUtil.js"},{"name":"../utils/arrays.js","loc":{"line":10,"column":22},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lint.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/utils/arrays.js"},{"name":"../../../fillers/vscode-nls.js","loc":{"line":11,"column":21},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/lint.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/fillers/vscode-nls.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.LintVisitor=void 0;var e=o(require(\"../languageFacts/facts.js\")),t=require(\"./lintRules.js\"),r=o(require(\"../parser/cssNodes.js\")),i=o(require(\"./lintUtil.js\")),n=require(\"../utils/arrays.js\"),a=o(require(\"../../../fillers/vscode-nls.js\"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}var s=a.loadMessageBundle(),l=function(){function e(){this.data={}}return e.prototype.add=function(e,t,r){var i=this.data[e];i||(i={nodes:[],names:[]},this.data[e]=i),i.names.push(t),r&&i.nodes.push(r)},e}(),d=function(){function a(e,r){var i=this;this.warnings=[],this.settings=r,this.documentText=e.getText(),this.keyframes=new l,this.validProperties={};var n=r.getSetting(t.Settings.ValidProperties);Array.isArray(n)&&n.forEach(function(e){if(\"string\"==typeof e){var t=e.trim().toLowerCase();t.length&&(i.validProperties[t]=!0)}})}return a.entries=function(e,t,r,i){var n=new a(t,r);return e.acceptVisitor(n),n.completeValidations(),n.getEntries(i)},a.prototype.isValidPropertyDeclaration=function(e){var t=e.getFullPropertyName().toLowerCase();return this.validProperties[t]},a.prototype.fetch=function(e,t){for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i];a.name===t&&r.push(a)}return r},a.prototype.fetchWithValue=function(e,t,r){for(var i=[],n=0,a=e;n<a.length;n++){var o=a[n];if(o.name===t){var s=o.node.getValue();s&&this.findValueInExpression(s,r)&&i.push(o)}}return i},a.prototype.findValueInExpression=function(e,t){var i=!1;return e.accept(function(e){return e.type===r.NodeType.Identifier&&e.getText()===t&&(i=!0),!i}),i},a.prototype.getEntries=function(e){return void 0===e&&(e=r.Level.Warning|r.Level.Error),this.warnings.filter(function(t){return 0!=(t.getLevel()&e)})},a.prototype.addEntry=function(e,t,i){var n=new r.Marker(e,t,this.settings.getRule(t),i);this.warnings.push(n)},a.prototype.getMissingNames=function(e,t){e=e.slice(0);for(var r=0;r<t.length;r++){var i=e.indexOf(t[r]);-1!==i&&(e[i]=null)}var n=null;for(r=0;r<e.length;r++){var a=e[r];a&&(n=null===n?s(\"namelist.single\",\"'{0}'\",a):s(\"namelist.concatenated\",\"{0}, '{1}'\",n,a))}return n},a.prototype.visitNode=function(e){switch(e.type){case r.NodeType.UnknownAtRule:return this.visitUnknownAtRule(e);case r.NodeType.Keyframe:return this.visitKeyframe(e);case r.NodeType.FontFace:return this.visitFontFace(e);case r.NodeType.Ruleset:return this.visitRuleSet(e);case r.NodeType.SimpleSelector:return this.visitSimpleSelector(e);case r.NodeType.Function:return this.visitFunction(e);case r.NodeType.NumericValue:return this.visitNumericValue(e);case r.NodeType.Import:return this.visitImport(e);case r.NodeType.HexColorValue:return this.visitHexColorValue(e);case r.NodeType.Prio:return this.visitPrio(e)}return!0},a.prototype.completeValidations=function(){this.validateKeyframes()},a.prototype.visitUnknownAtRule=function(e){var r=e.getChild(0);return!!r&&(this.addEntry(r,t.Rules.UnknownAtRules,\"Unknown at rule \"+r.getText()),!0)},a.prototype.visitKeyframe=function(e){var t=e.getKeyword(),r=t.getText();return this.keyframes.add(e.getName(),r,\"@keyframes\"!==r?t:null),!0},a.prototype.validateKeyframes=function(){var e=[\"@-webkit-keyframes\",\"@-moz-keyframes\",\"@-o-keyframes\"];for(var r in this.keyframes.data){var i=this.keyframes.data[r].names,n=-1===i.indexOf(\"@keyframes\");if(n||1!==i.length){var a=this.getMissingNames(e,i);if(a||n)for(var o=0,l=this.keyframes.data[r].nodes;o<l.length;o++){var d=l[o];if(n){var u=s(\"keyframes.standardrule.missing\",\"Always define standard rule '@keyframes' when defining keyframes.\");this.addEntry(d,t.Rules.IncludeStandardPropertyWhenUsingVendorPrefix,u)}if(a){u=s(\"keyframes.vendorspecific.missing\",\"Always include all vendor specific rules: Missing: {0}\",a);this.addEntry(d,t.Rules.AllVendorPrefixes,u)}}}}return!0},a.prototype.visitSimpleSelector=function(e){var r=this.documentText.charAt(e.offset);return 1===e.length&&\"*\"===r&&this.addEntry(e,t.Rules.UniversalSelector),\"#\"===r&&this.addEntry(e,t.Rules.AvoidIdSelector),!0},a.prototype.visitImport=function(e){return this.addEntry(e,t.Rules.ImportStatemement),!0},a.prototype.visitRuleSet=function(o){var d=o.getDeclarations();if(!d)return!1;d.hasChildren()||this.addEntry(o.getSelectors(),t.Rules.EmptyRuleSet);for(var u=[],p=0,f=d.getChildren();p<f.length;p++){if((A=f[p])instanceof r.Declaration){var h=A;u.push(new i.Element(h.getFullPropertyName().toLowerCase(),h))}}var c=(0,i.default)(u);if(c.width){var y=[];if(c.right.value&&(y=(0,n.union)(y,c.right.properties)),c.left.value&&(y=(0,n.union)(y,c.left.properties)),0!==y.length){for(var g=0,v=y;g<v.length;g++){var m=v[g];this.addEntry(m.node,t.Rules.BewareOfBoxModelSize)}this.addEntry(c.width.node,t.Rules.BewareOfBoxModelSize)}}if(c.height){y=[];if(c.top.value&&(y=(0,n.union)(y,c.top.properties)),c.bottom.value&&(y=(0,n.union)(y,c.bottom.properties)),0!==y.length){for(var P=0,w=y;P<w.length;P++){m=w[P];this.addEntry(m.node,t.Rules.BewareOfBoxModelSize)}this.addEntry(c.height.node,t.Rules.BewareOfBoxModelSize)}}var x=this.fetchWithValue(u,\"display\",\"inline\");if(x.length>0)for(var E=0,R=[\"width\",\"height\",\"margin-top\",\"margin-bottom\",\"float\"];E<R.length;E++)for(var k=R[E],V=this.fetch(u,k),S=0;S<V.length;S++){var D=V[S].node,N=D.getValue();(\"float\"!==k||N&&!N.matches(\"none\"))&&this.addEntry(D,t.Rules.PropertyIgnoredDueToDisplay,s(\"rule.propertyIgnoredDueToDisplayInline\",\"Property is ignored due to the display. With 'display: inline', the width, height, margin-top, margin-bottom, and float properties have no effect.\"))}if((x=this.fetchWithValue(u,\"display\",\"inline-block\")).length>0)for(V=this.fetch(u,\"float\"),S=0;S<V.length;S++){var T=V[S].node;(N=T.getValue())&&!N.matches(\"none\")&&this.addEntry(T,t.Rules.PropertyIgnoredDueToDisplay,s(\"rule.propertyIgnoredDueToDisplayInlineBlock\",\"inline-block is ignored due to the float. If 'float' has a value other than 'none', the box is floated and 'display' is treated as 'block'\"))}if((x=this.fetchWithValue(u,\"display\",\"block\")).length>0)for(V=this.fetch(u,\"vertical-align\"),S=0;S<V.length;S++)this.addEntry(V[S].node,t.Rules.PropertyIgnoredDueToDisplay,s(\"rule.propertyIgnoredDueToDisplayBlock\",\"Property is ignored due to the display. With 'display: block', vertical-align should not be used.\"));var b=this.fetch(u,\"float\");for(S=0;S<b.length;S++){h=b[S].node;this.isValidPropertyDeclaration(h)||this.addEntry(h,t.Rules.AvoidFloat)}for(var I=0;I<u.length;I++){var A;if(\"background\"!==(A=u[I]).name&&!this.validProperties[A.name])if((N=A.node.getValue())&&\"-\"!==this.documentText.charAt(N.offset)){var F=this.fetch(u,A.name);if(F.length>1)for(var C=0;C<F.length;C++){var M=F[C].node.getValue();M&&\"-\"!==this.documentText.charAt(M.offset)&&F[C]!==A&&this.addEntry(A.node,t.Rules.DuplicateDeclarations)}}}if(!(\":export\"===o.getSelectors().getText())){for(var O=new l,L=!1,U=0,j=d.getChildren();U<j.length;U++){var B=j[U];if(this.isCSSDeclaration(B)){var W=(h=B).getFullPropertyName().toLowerCase(),K=W.charAt(0);if(\"-\"===K){if(\"-\"!==W.charAt(1)){e.cssDataManager.isKnownProperty(W)||this.validProperties[W]||this.addEntry(h.getProperty(),t.Rules.UnknownVendorSpecificProperty);var q=h.getNonPrefixedPropertyName();O.add(q,W,h.getProperty())}}else{var z=W;\"*\"!==K&&\"_\"!==K||(this.addEntry(h.getProperty(),t.Rules.IEStarHack),W=W.substr(1)),e.cssDataManager.isKnownProperty(z)||e.cssDataManager.isKnownProperty(W)||this.validProperties[W]||this.addEntry(h.getProperty(),t.Rules.UnknownProperty,s(\"property.unknownproperty.detailed\",\"Unknown property: '{0}'\",W)),O.add(W,W,null)}}else L=!0}if(!L)for(var H in O.data){var _=O.data[H],Z=_.names,G=e.cssDataManager.isStandardProperty(H)&&-1===Z.indexOf(H);if(G||1!==Z.length){for(var J=[],Q=(I=0,a.prefixes.length);I<Q;I++){var X=a.prefixes[I];e.cssDataManager.isStandardProperty(X+H)&&J.push(X+H)}var Y=this.getMissingNames(J,Z);if(Y||G)for(var $=0,ee=_.nodes;$<ee.length;$++){var te=ee[$];if(G){var re=s(\"property.standard.missing\",\"Also define the standard property '{0}' for compatibility\",H);this.addEntry(te,t.Rules.IncludeStandardPropertyWhenUsingVendorPrefix,re)}if(Y){re=s(\"property.vendorspecific.missing\",\"Always include all vendor specific properties: Missing: {0}\",Y);this.addEntry(te,t.Rules.AllVendorPrefixes,re)}}}}}return!0},a.prototype.visitPrio=function(e){return this.addEntry(e,t.Rules.AvoidImportant),!0},a.prototype.visitNumericValue=function(i){var n=i.findParent(r.NodeType.Function);if(n&&\"calc\"===n.getName())return!0;var a=i.findParent(r.NodeType.Declaration);if(a&&a.getValue()){var o=i.getValue();if(!o.unit||-1===e.units.length.indexOf(o.unit.toLowerCase()))return!0;0===parseFloat(o.value)&&o.unit&&!this.validProperties[a.getFullPropertyName()]&&this.addEntry(i,t.Rules.ZeroWithUnit)}return!0},a.prototype.visitFontFace=function(e){var r=e.getDeclarations();if(r){for(var i=!1,n=!1,a=!1,o=0,s=r.getChildren();o<s.length;o++){var l=s[o];if(this.isCSSDeclaration(l)){var d=l.getProperty().getName().toLowerCase();\"src\"===d&&(i=!0),\"font-family\"===d&&(n=!0)}else a=!0}return a||i&&n||this.addEntry(e,t.Rules.RequiredPropertiesForFontFace),!0}},a.prototype.isCSSDeclaration=function(e){if(e instanceof r.Declaration){if(!e.getValue())return!1;var t=e.getProperty();return!(!t||t.getIdentifier().containsInterpolation())}return!1},a.prototype.visitHexColorValue=function(e){var r=e.length;return 9!==r&&7!==r&&5!==r&&4!==r&&this.addEntry(e,t.Rules.HexColorLength),!1},a.prototype.visitFunction=function(e){var i=e.getName().toLowerCase(),n=-1,a=0;switch(i){case\"rgb(\":case\"hsl(\":n=3;break;case\"rgba(\":case\"hsla(\":n=4}return-1!==n&&(e.getArguments().accept(function(e){return!(e instanceof r.BinaryExpression)||(a+=1,!1)}),a!==n&&this.addEntry(e,t.Rules.ArgsInColorFunction)),!0},a.prefixes=[\"-ms-\",\"-moz-\",\"-o-\",\"-webkit-\"],a}();exports.LintVisitor=d;"},"sourceMaps":null,"error":null,"hash":"d4cbf3809752665f2d1d4db8374e8c4a","cacheData":{"env":{}}}