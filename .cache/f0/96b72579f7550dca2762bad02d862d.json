{"id":"Kpts","dependencies":[{"name":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1556124645278},{"name":"../parser/cssNodes.js","loc":{"line":6,"column":23},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssNodes.js"},{"name":"../parser/cssSymbolScope.js","loc":{"line":7,"column":24},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssSymbolScope.js"},{"name":"../languageFacts/facts.js","loc":{"line":8,"column":31},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/languageFacts/facts.js"},{"name":"../utils/strings.js","loc":{"line":9,"column":25},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/utils/strings.js"},{"name":"../../vscode-languageserver-types/main.js","loc":{"line":10,"column":80},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-languageserver-types/main.js"},{"name":"../../../fillers/vscode-nls.js","loc":{"line":11,"column":21},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/language/css/fillers/vscode-nls.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.CSSCompletion=void 0;var t=s(require(\"../parser/cssNodes.js\")),e=require(\"../parser/cssSymbolScope.js\"),o=s(require(\"../languageFacts/facts.js\")),n=s(require(\"../utils/strings.js\")),i=require(\"../../vscode-languageserver-types/main.js\"),r=s(require(\"../../../fillers/vscode-nls.js\"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,o):{};n.get||n.set?Object.defineProperty(e,o,n):e[o]=t[o]}return e.default=t,e}var a=r.loadMessageBundle(),l=i.InsertTextFormat.Snippet,p=function(){function r(e){void 0===e&&(e=null),this.completionParticipants=[],this.valueTypes=[t.NodeType.Identifier,t.NodeType.Value,t.NodeType.StringLiteral,t.NodeType.URILiteral,t.NodeType.NumericValue,t.NodeType.HexColorValue,t.NodeType.VariableName,t.NodeType.Prio],this.variablePrefix=e}return r.prototype.getSymbolContext=function(){return this.symbolContext||(this.symbolContext=new e.Symbols(this.styleSheet)),this.symbolContext},r.prototype.setCompletionParticipants=function(t){this.completionParticipants=t||[]},r.prototype.doComplete=function(e,o,n){this.offset=e.offsetAt(o),this.position=o,this.currentWord=d(e,this.offset),this.defaultReplaceRange=i.Range.create(i.Position.create(this.position.line,this.position.character-this.currentWord.length),this.position),this.textDocument=e,this.styleSheet=n;try{var r={isIncomplete:!1,items:[]};this.nodePath=t.getNodePath(this.styleSheet,this.offset);for(var s=this.nodePath.length-1;s>=0;s--){var a=this.nodePath[s];if(a instanceof t.Property)this.getCompletionsForDeclarationProperty(a.getParent(),r);else if(a instanceof t.Expression)a.parent instanceof t.Interpolation?this.getVariableProposals(null,r):this.getCompletionsForExpression(a,r);else if(a instanceof t.SimpleSelector){var l=a.findAParent(t.NodeType.ExtendsReference,t.NodeType.Ruleset);if(l)if(l.type===t.NodeType.ExtendsReference)this.getCompletionsForExtendsReference(l,a,r);else{var p=l;this.getCompletionsForSelector(p,p&&p.isNested(),r)}}else if(a instanceof t.FunctionArgument)this.getCompletionsForFunctionArgument(a,a.getParent(),r);else if(a instanceof t.Declarations)this.getCompletionsForDeclarations(a,r);else if(a instanceof t.VariableDeclaration)this.getCompletionsForVariableDeclaration(a,r);else if(a instanceof t.RuleSet)this.getCompletionsForRuleSet(a,r);else if(a instanceof t.Interpolation)this.getCompletionsForInterpolation(a,r);else if(a instanceof t.FunctionDeclaration)this.getCompletionsForFunctionDeclaration(a,r);else if(a instanceof t.MixinReference)this.getCompletionsForMixinReference(a,r);else if(a instanceof t.Function)this.getCompletionsForFunctionArgument(null,a,r);else if(a instanceof t.Supports)this.getCompletionsForSupports(a,r);else if(a instanceof t.SupportsCondition)this.getCompletionsForSupportsCondition(a,r);else if(a instanceof t.ExtendsReference)this.getCompletionsForExtendsReference(a,null,r);else if(a.type===t.NodeType.URILiteral)this.getCompletionForUriLiteralValue(a,r);else if(a.type===t.NodeType.StringLiteral&&a.parent.type===t.NodeType.Import)this.getCompletionForImportPath(a,r);else{if(null!==a.parent)continue;this.getCompletionForTopLevel(r)}if(r.items.length>0||this.offset>a.offset)return this.finalize(r)}return this.getCompletionsForStylesheet(r),0===r.items.length&&this.variablePrefix&&0===this.currentWord.indexOf(this.variablePrefix)&&this.getVariableProposals(null,r),this.finalize(r)}finally{this.position=null,this.currentWord=null,this.textDocument=null,this.styleSheet=null,this.symbolContext=null,this.defaultReplaceRange=null,this.nodePath=null}},r.prototype.finalize=function(t){if(t.items.some(function(t){return!!t.sortText}))for(var e=0,o=t.items;e<o.length;e++){var n=o[e];n.sortText||(n.sortText=\"d\")}return t},r.prototype.findInNodePath=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=this.nodePath.length-1;o>=0;o--){var n=this.nodePath[o];if(-1!==t.indexOf(n.type))return n}return null},r.prototype.getCompletionsForDeclarationProperty=function(t,e){return this.getPropertyProposals(t,e)},r.prototype.getPropertyProposals=function(t,e){var r=this;return o.cssDataManager.getProperties().forEach(function(s){var a,l,p=!1;t?(a=r.getCompletionRange(t.getProperty()),l=s.name,h(t.colonPosition)||(l+=\": \",p=!0)):(a=r.getCompletionRange(null),l=s.name+\": \",p=!0);var c={label:s.name,documentation:o.getEntryDescription(s),textEdit:i.TextEdit.replace(a,l),kind:i.CompletionItemKind.Property};s.restrictions||(p=!1),p&&(c.command={title:\"Suggest\",command:\"editor.action.triggerSuggest\"}),n.startsWith(s.name,\"-\")&&(c.sortText=\"x\"),e.items.push(c)}),this.completionParticipants.forEach(function(t){t.onCssProperty&&t.onCssProperty({propertyName:r.currentWord,range:r.defaultReplaceRange})}),e},r.prototype.getCompletionsForDeclarationValue=function(t,e){for(var n=this,r=t.getFullPropertyName(),s=o.cssDataManager.getProperty(r),a=t.getValue();a&&a.hasChildren();)a=a.findChildAtOffset(this.offset,!1);if(this.completionParticipants.forEach(function(t){t.onCssPropertyValue&&t.onCssPropertyValue({propertyName:r,propertyValue:n.currentWord,range:n.getCompletionRange(a)})}),s){if(s.restrictions)for(var l=0,p=s.restrictions;l<p.length;l++){switch(p[l]){case\"color\":this.getColorProposals(s,a,e);break;case\"position\":this.getPositionProposals(s,a,e);break;case\"repeat\":this.getRepeatStyleProposals(s,a,e);break;case\"line-style\":this.getLineStyleProposals(s,a,e);break;case\"line-width\":this.getLineWidthProposals(s,a,e);break;case\"geometry-box\":this.getGeometryBoxProposals(s,a,e);break;case\"box\":this.getBoxProposals(s,a,e);break;case\"image\":this.getImageProposals(s,a,e);break;case\"timing-function\":this.getTimingFunctionProposals(s,a,e);break;case\"shape\":this.getBasicShapeProposals(s,a,e)}}this.getValueEnumProposals(s,a,e),this.getCSSWideKeywordProposals(s,a,e),this.getUnitProposals(s,a,e)}else for(var c=0,u=f(this.styleSheet,t).getEntries();c<u.length;c++){var m=u[c];e.items.push({label:m,textEdit:i.TextEdit.replace(this.getCompletionRange(a),m),kind:i.CompletionItemKind.Value})}return this.getVariableProposals(a,e),this.getTermProposals(s,a,e),e},r.prototype.getValueEnumProposals=function(t,e,r){if(t.values)for(var s=0,a=t.values;s<a.length;s++){var p=a[s];if(o.supportedInMoreThanOneBrowser(p)){var c=p.name,u=void 0;if(n.endsWith(c,\")\")){var f=c.lastIndexOf(\"(\");-1!==f&&(c=c.substr(0,f)+\"($1)\",u=l)}var m={label:p.name,documentation:o.getEntryDescription(p),textEdit:i.TextEdit.replace(this.getCompletionRange(e),c),kind:i.CompletionItemKind.Value,insertTextFormat:u};r.items.push(m)}}return r},r.prototype.getCSSWideKeywordProposals=function(t,e,n){for(var r in o.cssWideKeywords)n.items.push({label:r,documentation:o.cssWideKeywords[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),r),kind:i.CompletionItemKind.Value});return n},r.prototype.getCompletionsForInterpolation=function(t,e){return this.offset>=t.offset+2&&this.getVariableProposals(null,e),e},r.prototype.getVariableProposals=function(e,o){for(var r=0,s=this.getSymbolContext().findSymbolsAtOffset(this.offset,t.ReferenceType.Variable);r<s.length;r++){var l=s[r],p=n.startsWith(l.name,\"--\")?\"var(\"+l.name+\")\":l.name,c={label:l.name,documentation:l.value?n.getLimitedString(l.value):l.value,textEdit:i.TextEdit.replace(this.getCompletionRange(e),p),kind:i.CompletionItemKind.Variable,sortText:\"z\"};if(l.node.type===t.NodeType.FunctionParameter){var u=l.node.getParent();u.type===t.NodeType.MixinDeclaration&&(c.detail=a(\"completion.argument\",\"argument from '{0}'\",u.getName()))}o.items.push(c)}return o},r.prototype.getVariableProposalsForCSSVarFunction=function(e){for(var o=this.getSymbolContext().findSymbolsAtOffset(this.offset,t.ReferenceType.Variable),r=0,s=o=o.filter(function(t){return n.startsWith(t.name,\"--\")});r<s.length;r++){var a=s[r];e.items.push({label:a.name,documentation:a.value?n.getLimitedString(a.value):a.value,textEdit:i.TextEdit.replace(this.getCompletionRange(null),a.name),kind:i.CompletionItemKind.Variable})}return e},r.prototype.getUnitProposals=function(e,n,r){var s=\"0\";if(this.currentWord.length>0){var a=this.currentWord.match(/^-?\\d[\\.\\d+]*/);a&&(s=a[0],r.isIncomplete=s.length===this.currentWord.length)}else 0===this.currentWord.length&&(r.isIncomplete=!0);if(n&&n.parent&&n.parent.type===t.NodeType.Term&&(n=n.getParent()),e.restrictions)for(var l=0,p=e.restrictions;l<p.length;l++){var c=p[l],u=o.units[c];if(u)for(var f=0,m=u;f<m.length;f++){var h=s+m[f];r.items.push({label:h,textEdit:i.TextEdit.replace(this.getCompletionRange(n),h),kind:i.CompletionItemKind.Unit})}}return r},r.prototype.getCompletionRange=function(t){if(t&&t.offset<=this.offset){var e=-1!==t.end?this.textDocument.positionAt(t.end):this.position;return i.Range.create(this.textDocument.positionAt(t.offset),e)}return this.defaultReplaceRange},r.prototype.getColorProposals=function(t,e,n){for(var r in o.colors)n.items.push({label:r,documentation:o.colors[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),r),kind:i.CompletionItemKind.Color});for(var r in o.colorKeywords)n.items.push({label:r,documentation:o.colorKeywords[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),r),kind:i.CompletionItemKind.Value});var s=new c;this.styleSheet.acceptVisitor(new m(s,this.offset));for(var a=0,p=s.getEntries();a<p.length;a++){r=p[a];n.items.push({label:r,textEdit:i.TextEdit.replace(this.getCompletionRange(e),r),kind:i.CompletionItemKind.Color})}for(var u=function(t){var o=1,r=t.func.replace(/\\[?\\$(\\w+)\\]?/g,function(t,e){return\"${\"+o+++\":\"+e+\"}\"});n.items.push({label:t.func.substr(0,t.func.indexOf(\"(\")),detail:t.func,documentation:t.desc,textEdit:i.TextEdit.replace(f.getCompletionRange(e),r),insertTextFormat:l,kind:i.CompletionItemKind.Function})},f=this,h=0,d=o.colorFunctions;h<d.length;h++){u(d[h])}return n},r.prototype.getPositionProposals=function(t,e,n){for(var r in o.positionKeywords)n.items.push({label:r,documentation:o.positionKeywords[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),r),kind:i.CompletionItemKind.Value});return n},r.prototype.getRepeatStyleProposals=function(t,e,n){for(var r in o.repeatStyleKeywords)n.items.push({label:r,documentation:o.repeatStyleKeywords[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),r),kind:i.CompletionItemKind.Value});return n},r.prototype.getLineStyleProposals=function(t,e,n){for(var r in o.lineStyleKeywords)n.items.push({label:r,documentation:o.lineStyleKeywords[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),r),kind:i.CompletionItemKind.Value});return n},r.prototype.getLineWidthProposals=function(t,e,n){for(var r=0,s=o.lineWidthKeywords;r<s.length;r++){var a=s[r];n.items.push({label:a,textEdit:i.TextEdit.replace(this.getCompletionRange(e),a),kind:i.CompletionItemKind.Value})}return n},r.prototype.getGeometryBoxProposals=function(t,e,n){for(var r in o.geometryBoxKeywords)n.items.push({label:r,documentation:o.geometryBoxKeywords[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),r),kind:i.CompletionItemKind.Value});return n},r.prototype.getBoxProposals=function(t,e,n){for(var r in o.boxKeywords)n.items.push({label:r,documentation:o.boxKeywords[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),r),kind:i.CompletionItemKind.Value});return n},r.prototype.getImageProposals=function(t,e,n){for(var r in o.imageFunctions){var s=u(r);n.items.push({label:r,documentation:o.imageFunctions[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),s),kind:i.CompletionItemKind.Function,insertTextFormat:r!==s?l:void 0})}return n},r.prototype.getTimingFunctionProposals=function(t,e,n){for(var r in o.transitionTimingFunctions){var s=u(r);n.items.push({label:r,documentation:o.transitionTimingFunctions[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),s),kind:i.CompletionItemKind.Function,insertTextFormat:r!==s?l:void 0})}return n},r.prototype.getBasicShapeProposals=function(t,e,n){for(var r in o.basicShapeFunctions){var s=u(r);n.items.push({label:r,documentation:o.basicShapeFunctions[r],textEdit:i.TextEdit.replace(this.getCompletionRange(e),s),kind:i.CompletionItemKind.Function,insertTextFormat:r!==s?l:void 0})}return n},r.prototype.getCompletionsForStylesheet=function(e){var o=this.styleSheet.findFirstChildBeforeOffset(this.offset);return o?o instanceof t.RuleSet?this.getCompletionsForRuleSet(o,e):o instanceof t.Supports?this.getCompletionsForSupports(o,e):e:this.getCompletionForTopLevel(e)},r.prototype.getCompletionForTopLevel=function(t){var e=this;return o.cssDataManager.getAtDirectives().forEach(function(n){t.items.push({label:n.name,textEdit:i.TextEdit.replace(e.getCompletionRange(null),n.name),documentation:o.getEntryDescription(n),kind:i.CompletionItemKind.Keyword})}),this.getCompletionsForSelector(null,!1,t),t},r.prototype.getCompletionsForRuleSet=function(t,e){var o=t.getDeclarations();return o&&o.endsWith(\"}\")&&this.offset>=o.end?this.getCompletionForTopLevel(e):!o||this.offset<=o.offset?this.getCompletionsForSelector(t,t.isNested(),e):this.getCompletionsForDeclarations(t.getDeclarations(),e)},r.prototype.getCompletionsForSelector=function(e,r,s){var a=this,p=this.findInNodePath(t.NodeType.PseudoSelector,t.NodeType.IdentifierSelector,t.NodeType.ClassSelector,t.NodeType.ElementNameSelector);if(!p&&this.offset-this.currentWord.length>0&&\":\"===this.textDocument.getText()[this.offset-this.currentWord.length-1]&&(this.currentWord=\":\"+this.currentWord,this.defaultReplaceRange=i.Range.create(i.Position.create(this.position.line,this.position.character-this.currentWord.length),this.position)),o.cssDataManager.getPseudoClasses().forEach(function(t){var e=u(t.name),r={label:t.name,textEdit:i.TextEdit.replace(a.getCompletionRange(p),e),documentation:o.getEntryDescription(t),kind:i.CompletionItemKind.Function,insertTextFormat:t.name!==e?l:void 0};n.startsWith(t.name,\":-\")&&(r.sortText=\"x\"),s.items.push(r)}),o.cssDataManager.getPseudoElements().forEach(function(t){var e=u(t.name),r={label:t.name,textEdit:i.TextEdit.replace(a.getCompletionRange(p),e),documentation:o.getEntryDescription(t),kind:i.CompletionItemKind.Function,insertTextFormat:t.name!==e?l:void 0};n.startsWith(t.name,\"::-\")&&(r.sortText=\"x\"),s.items.push(r)}),!r){for(var c=0,f=o.html5Tags;c<f.length;c++){var m=f[c];s.items.push({label:m,textEdit:i.TextEdit.replace(this.getCompletionRange(p),m),kind:i.CompletionItemKind.Keyword})}for(var h=0,d=o.svgElements;h<d.length;h++){m=d[h];s.items.push({label:m,textEdit:i.TextEdit.replace(this.getCompletionRange(p),m),kind:i.CompletionItemKind.Keyword})}}var g={};g[this.currentWord]=!0;var y=this.styleSheet.getTextProvider();if(this.styleSheet.accept(function(e){if(e.type===t.NodeType.SimpleSelector&&e.length>0){var o=y(e.offset,e.length);return\".\"!==o.charAt(0)||g[o]||(g[o]=!0,s.items.push({label:o,textEdit:i.TextEdit.replace(a.getCompletionRange(p),o),kind:i.CompletionItemKind.Keyword})),!1}return!0}),e&&e.isNested()){var C=e.getSelectors().findFirstChildBeforeOffset(this.offset);C&&0===e.getSelectors().getChildren().indexOf(C)&&this.getPropertyProposals(null,s)}return s},r.prototype.getCompletionsForDeclarations=function(e,o){if(!e||this.offset===e.offset)return o;var n=e.findFirstChildBeforeOffset(this.offset);if(!n)return this.getCompletionsForDeclarationProperty(null,o);if(n instanceof t.AbstractDeclaration){var i=n;if(!h(i.colonPosition)||this.offset<=i.colonPosition)return this.getCompletionsForDeclarationProperty(i,o);if(h(i.semicolonPosition)&&i.semicolonPosition<this.offset)return this.offset===i.semicolonPosition+1?o:this.getCompletionsForDeclarationProperty(null,o);if(i instanceof t.Declaration)return this.getCompletionsForDeclarationValue(i,o)}else n instanceof t.ExtendsReference?this.getCompletionsForExtendsReference(n,null,o):this.currentWord&&\"@\"===this.currentWord[0]&&this.getCompletionsForDeclarationProperty(null,o);return o},r.prototype.getCompletionsForVariableDeclaration=function(t,e){return this.offset>t.colonPosition&&this.getVariableProposals(t.getValue(),e),e},r.prototype.getCompletionsForExpression=function(e,o){if(e.getParent()instanceof t.FunctionArgument)return this.getCompletionsForFunctionArgument(e.getParent(),e.getParent().getParent(),o),o;var n=e.findParent(t.NodeType.Declaration);if(!n)return this.getTermProposals(null,null,o),o;var i=e.findChildAtOffset(this.offset,!0);return i?i instanceof t.NumericValue||i instanceof t.Identifier?this.getCompletionsForDeclarationValue(n,o):o:this.getCompletionsForDeclarationValue(n,o)},r.prototype.getCompletionsForFunctionArgument=function(t,e,o){return\"var\"===e.getIdentifier().getText()&&(e.getArguments().hasChildren()&&e.getArguments().getChild(0)!==t||this.getVariableProposalsForCSSVarFunction(o)),o},r.prototype.getCompletionsForFunctionDeclaration=function(t,e){var o=t.getDeclarations();return o&&this.offset>o.offset&&this.offset<o.end&&this.getTermProposals(null,null,e),e},r.prototype.getCompletionsForMixinReference=function(e,o){for(var n=0,i=this.getSymbolContext().findSymbolsAtOffset(this.offset,t.ReferenceType.Mixin);n<i.length;n++){var r=i[n];r.node instanceof t.MixinDeclaration&&o.items.push(this.makeTermProposal(r,r.node.getParameters(),null))}return o},r.prototype.getTermProposals=function(e,o,n){for(var i=0,r=this.getSymbolContext().findSymbolsAtOffset(this.offset,t.ReferenceType.Function);i<r.length;i++){var s=r[i];s.node instanceof t.FunctionDeclaration&&n.items.push(this.makeTermProposal(s,s.node.getParameters(),o))}return n},r.prototype.makeTermProposal=function(e,o,n){e.node;var r=o.getChildren().map(function(e){return e instanceof t.FunctionParameter?e.getName():e.getText()}),s=e.name+\"(\"+r.map(function(t,e){return\"${\"+(e+1)+\":\"+t+\"}\"}).join(\", \")+\")\";return{label:e.name,detail:e.name+\"(\"+r.join(\", \")+\")\",textEdit:i.TextEdit.replace(this.getCompletionRange(n),s),insertTextFormat:l,kind:i.CompletionItemKind.Function,sortText:\"z\"}},r.prototype.getCompletionsForSupportsCondition=function(e,o){var n=e.findFirstChildBeforeOffset(this.offset);if(n){if(n instanceof t.Declaration)return h(n.colonPosition||this.offset<=n.colonPosition)?this.getCompletionsForDeclarationValue(n,o):this.getCompletionsForDeclarationProperty(n,o);if(n instanceof t.SupportsCondition)return this.getCompletionsForSupportsCondition(n,o)}return h(e.lParent)&&this.offset>e.lParent&&(!h(e.rParent)||this.offset<=e.rParent)?this.getCompletionsForDeclarationProperty(null,o):o},r.prototype.getCompletionsForSupports=function(e,o){var n=e.getDeclarations();if(!n||this.offset<=n.offset){var i=e.findFirstChildBeforeOffset(this.offset);return i instanceof t.SupportsCondition?this.getCompletionsForSupportsCondition(i,o):o}return this.getCompletionForTopLevel(o)},r.prototype.getCompletionsForExtendsReference=function(t,e,o){return o},r.prototype.getCompletionForUriLiteralValue=function(t,e){var o,n,r;if(0===t.getChildren().length){o=\"\",n=this.position;var s=this.textDocument.positionAt(t.offset+\"url(\".length);r=i.Range.create(s,s)}else{var a=t.getChild(0);o=a.getText(),n=this.position,r=this.getCompletionRange(a)}return this.completionParticipants.forEach(function(t){t.onCssURILiteralValue&&t.onCssURILiteralValue({uriValue:o,position:n,range:r})}),e},r.prototype.getCompletionForImportPath=function(t,e){var o=this;return this.completionParticipants.forEach(function(e){e.onCssImportPath&&e.onCssImportPath({pathValue:t.getText(),position:o.position,range:o.getCompletionRange(t)})}),e},r}();exports.CSSCompletion=p;var c=function(){function t(){this.entries={}}return t.prototype.add=function(t){this.entries[t]=!0},t.prototype.getEntries=function(){return Object.keys(this.entries)},t}();function u(t){return t.replace(/\\(\\)$/,\"($1)\")}function f(e,o){var n=o.getFullPropertyName(),i=new c;function r(e){return(e instanceof t.Identifier||e instanceof t.NumericValue||e instanceof t.HexColorValue)&&i.add(e.getText()),!0}return e.accept(function(e){if(e instanceof t.Declaration&&e!==o&&(s=e.getFullPropertyName(),n===s)){var i=e.getValue();i&&i.accept(r)}var s;return!0}),i}var m=function(){function e(t,e){this.entries=t,this.currentOffset=e}return e.prototype.visitNode=function(e){return(e instanceof t.HexColorValue||e instanceof t.Function&&o.isColorConstructor(e))&&(this.currentOffset<e.offset||e.end<this.currentOffset)&&this.entries.add(e.getText()),!0},e}();function h(t){return void 0!==t}function d(t,e){for(var o=e-1,n=t.getText();o>=0&&-1===' \\t\\n\\r\":{[()]},*>+'.indexOf(n.charAt(o));)o--;return n.substring(o+1,e)}"},"sourceMaps":null,"error":null,"hash":"e481ab5a62d7a44e431c06bb8ca7af84","cacheData":{"env":{}}}