{"id":"UuL/","dependencies":[{"name":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1556124645278},{"name":"./diffChange.js","loc":{"line":5,"column":27},"parent":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/base/common/diff/diff.js","resolved":"/labor/clients/modd/projects/sites/designengine.ai/node_modules/monaco-editor/esm/vs/base/common/diff/diffChange.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.stringDiff=i,exports.LcsDiff=exports.MyArray=exports.Debug=void 0;var t=require(\"./diffChange.js\");function e(t){return{getLength:function(){return t.length},getElementAtIndex:function(e){return t.charCodeAt(e)}}}function i(t,i,n){return new s(e(t),e(i)).ComputeDiff(n)}var n=function(){function t(){}return t.Assert=function(t,e){if(!t)throw new Error(e)},t}();exports.Debug=n;var r=function(){function t(){}return t.Copy=function(t,e,i,n,r){for(var o=0;o<r;o++)i[n+o]=t[e+o]},t}();exports.MyArray=r;var o=1447,a=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new t.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(t,e){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,e),this.m_originalCount++},e.prototype.AddModifiedElement=function(t,e){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,e),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),s=function(){function e(t,e,i){void 0===i&&(i=null),this.OriginalSequence=t,this.ModifiedSequence=e,this.ContinueProcessingPredicate=i,this.m_forwardHistory=[],this.m_reverseHistory=[]}return e.prototype.ElementsAreEqual=function(t,e){return this.OriginalSequence.getElementAtIndex(t)===this.ModifiedSequence.getElementAtIndex(e)},e.prototype.OriginalElementsAreEqual=function(t,e){return this.OriginalSequence.getElementAtIndex(t)===this.OriginalSequence.getElementAtIndex(e)},e.prototype.ModifiedElementsAreEqual=function(t,e){return this.ModifiedSequence.getElementAtIndex(t)===this.ModifiedSequence.getElementAtIndex(e)},e.prototype.ComputeDiff=function(t){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,t)},e.prototype._ComputeDiff=function(t,e,i,n,r){var o=this.ComputeDiffRecursive(t,e,i,n,[!1]);return r?this.PrettifyChanges(o):o},e.prototype.ComputeDiffRecursive=function(e,i,r,o,a){for(a[0]=!1;e<=i&&r<=o&&this.ElementsAreEqual(e,r);)e++,r++;for(;i>=e&&o>=r&&this.ElementsAreEqual(i,o);)i--,o--;if(e>i||r>o){var s=void 0;return r<=o?(n.Assert(e===i+1,\"originalStart should only be one more than originalEnd\"),s=[new t.DiffChange(e,0,r,o-r+1)]):e<=i?(n.Assert(r===o+1,\"modifiedStart should only be one more than modifiedEnd\"),s=[new t.DiffChange(e,i-e+1,r,0)]):(n.Assert(e===i+1,\"originalStart should only be one more than originalEnd\"),n.Assert(r===o+1,\"modifiedStart should only be one more than modifiedEnd\"),s=[]),s}var h=[0],d=[0],g=this.ComputeRecursionPoint(e,i,r,o,h,d,a),f=h[0],u=d[0];if(null!==g)return g;if(!a[0]){var l=this.ComputeDiffRecursive(e,f,r,u,a),m=[];return m=a[0]?[new t.DiffChange(f+1,i-(f+1)+1,u+1,o-(u+1)+1)]:this.ComputeDiffRecursive(f+1,i,u+1,o,a),this.ConcatenateChanges(l,m)}return[new t.DiffChange(e,i-e+1,r,o-r+1)]},e.prototype.WALKTRACE=function(e,i,n,r,o,s,h,d,g,f,u,l,m,c,p,y,C,S){var _,A,E=null,v=new a,L=i,M=n,q=m[0]-y[0]-r,O=Number.MIN_VALUE,w=this.m_forwardHistory.length-1;do{(A=q+e)===L||A<M&&g[A-1]<g[A+1]?(c=(u=g[A+1])-q-r,u<O&&v.MarkNextChange(),O=u,v.AddModifiedElement(u+1,c),q=A+1-e):(c=(u=g[A-1]+1)-q-r,u<O&&v.MarkNextChange(),O=u-1,v.AddOriginalElement(u,c+1),q=A-1-e),w>=0&&(e=(g=this.m_forwardHistory[w])[0],L=1,M=g.length-1)}while(--w>=-1);if(_=v.getReverseChanges(),S[0]){var x=m[0]+1,D=y[0]+1;if(null!==_&&_.length>0){var I=_[_.length-1];x=Math.max(x,I.getOriginalEnd()),D=Math.max(D,I.getModifiedEnd())}E=[new t.DiffChange(x,l-x+1,D,p-D+1)]}else{v=new a,L=s,M=h,q=m[0]-y[0]-d,O=Number.MAX_VALUE,w=C?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{(A=q+o)===L||A<M&&f[A-1]>=f[A+1]?(c=(u=f[A+1]-1)-q-d,u>O&&v.MarkNextChange(),O=u+1,v.AddOriginalElement(u+1,c+1),q=A+1-o):(c=(u=f[A-1])-q-d,u>O&&v.MarkNextChange(),O=u,v.AddModifiedElement(u+1,c+1),q=A-1-o),w>=0&&(o=(f=this.m_reverseHistory[w])[0],L=1,M=f.length-1)}while(--w>=-1);E=v.getChanges()}return this.ConcatenateChanges(_,E)},e.prototype.ComputeRecursionPoint=function(e,i,n,a,s,h,d){var g,f=0,u=0,l=0,m=0,c=0,p=0;e--,n--,s[0]=0,h[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var y,C,S=i-e+(a-n),_=S+1,A=new Array(_),E=new Array(_),v=a-n,L=i-e,M=e-n,q=i-a,O=(L-v)%2==0;for(A[v]=e,E[L]=i,d[0]=!1,g=1;g<=S/2+1;g++){var w=0,x=0;for(l=this.ClipDiagonalBound(v-g,g,v,_),m=this.ClipDiagonalBound(v+g,g,v,_),y=l;y<=m;y+=2){for(u=(f=y===l||y<m&&A[y-1]<A[y+1]?A[y+1]:A[y-1]+1)-(y-v)-M,C=f;f<i&&u<a&&this.ElementsAreEqual(f+1,u+1);)f++,u++;if(A[y]=f,f+u>w+x&&(w=f,x=u),!O&&Math.abs(y-L)<=g-1&&f>=E[y])return s[0]=f,h[0]=u,C<=E[y]&&o>0&&g<=o+1?this.WALKTRACE(v,l,m,M,L,c,p,q,A,E,f,i,s,u,a,h,O,d):null}var D=(w-e+(x-n)-g)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(w,this.OriginalSequence,D))return d[0]=!0,s[0]=w,h[0]=x,D>0&&o>0&&g<=o+1?this.WALKTRACE(v,l,m,M,L,c,p,q,A,E,f,i,s,u,a,h,O,d):(e++,n++,[new t.DiffChange(e,i-e+1,n,a-n+1)]);for(c=this.ClipDiagonalBound(L-g,g,L,_),p=this.ClipDiagonalBound(L+g,g,L,_),y=c;y<=p;y+=2){for(u=(f=y===c||y<p&&E[y-1]>=E[y+1]?E[y+1]-1:E[y-1])-(y-L)-q,C=f;f>e&&u>n&&this.ElementsAreEqual(f,u);)f--,u--;if(E[y]=f,O&&Math.abs(y-v)<=g&&f<=A[y])return s[0]=f,h[0]=u,C>=A[y]&&o>0&&g<=o+1?this.WALKTRACE(v,l,m,M,L,c,p,q,A,E,f,i,s,u,a,h,O,d):null}if(g<=o){var I=new Array(m-l+2);I[0]=v-l+1,r.Copy(A,l,I,1,m-l+1),this.m_forwardHistory.push(I),(I=new Array(p-c+2))[0]=L-c+1,r.Copy(E,c,I,1,p-c+1),this.m_reverseHistory.push(I)}}return this.WALKTRACE(v,l,m,M,L,c,p,q,A,E,f,i,s,u,a,h,O,d)},e.prototype.PrettifyChanges=function(t){for(var e=0;e<t.length;e++){for(var i=t[e],n=e<t.length-1?t[e+1].originalStart:this.OriginalSequence.getLength(),r=e<t.length-1?t[e+1].modifiedStart:this.ModifiedSequence.getLength(),o=i.originalLength>0,a=i.modifiedLength>0;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<r&&(!o||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));)i.originalStart++,i.modifiedStart++;var s=[null];e<t.length-1&&this.ChangesOverlap(t[e],t[e+1],s)&&(t[e]=s[0],t.splice(e+1,1),e--)}for(e=t.length-1;e>=0;e--){i=t[e],n=0,r=0;if(e>0){var h=t[e-1];h.originalLength>0&&(n=h.originalStart+h.originalLength),h.modifiedLength>0&&(r=h.modifiedStart+h.modifiedLength)}o=i.originalLength>0,a=i.modifiedLength>0;for(var d=0,g=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength),f=1;;f++){var u=i.originalStart-f,l=i.modifiedStart-f;if(u<n||l<r)break;if(o&&!this.OriginalElementsAreEqual(u,u+i.originalLength))break;if(a&&!this.ModifiedElementsAreEqual(l,l+i.modifiedLength))break;var m=this._boundaryScore(u,i.originalLength,l,i.modifiedLength);m>g&&(g=m,d=f)}i.originalStart-=d,i.modifiedStart-=d}return t},e.prototype._OriginalIsBoundary=function(t){if(t<=0||t>=this.OriginalSequence.getLength()-1)return!0;var e=this.OriginalSequence.getElementAtIndex(t);return\"string\"==typeof e&&/^\\s*$/.test(e)},e.prototype._OriginalRegionIsBoundary=function(t,e){if(this._OriginalIsBoundary(t)||this._OriginalIsBoundary(t-1))return!0;if(e>0){var i=t+e;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1},e.prototype._ModifiedIsBoundary=function(t){if(t<=0||t>=this.ModifiedSequence.getLength()-1)return!0;var e=this.ModifiedSequence.getElementAtIndex(t);return\"string\"==typeof e&&/^\\s*$/.test(e)},e.prototype._ModifiedRegionIsBoundary=function(t,e){if(this._ModifiedIsBoundary(t)||this._ModifiedIsBoundary(t-1))return!0;if(e>0){var i=t+e;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1},e.prototype._boundaryScore=function(t,e,i,n){return(this._OriginalRegionIsBoundary(t,e)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)},e.prototype.ConcatenateChanges=function(t,e){var i=[];if(0===t.length||0===e.length)return e.length>0?e:t;if(this.ChangesOverlap(t[t.length-1],e[0],i)){var n=new Array(t.length+e.length-1);return r.Copy(t,0,n,0,t.length-1),n[t.length-1]=i[0],r.Copy(e,1,n,t.length,e.length-1),n}n=new Array(t.length+e.length);return r.Copy(t,0,n,0,t.length),r.Copy(e,0,n,t.length,e.length),n},e.prototype.ChangesOverlap=function(e,i,r){if(n.Assert(e.originalStart<=i.originalStart,\"Left change is not less than or equal to right change\"),n.Assert(e.modifiedStart<=i.modifiedStart,\"Left change is not less than or equal to right change\"),e.originalStart+e.originalLength>=i.originalStart||e.modifiedStart+e.modifiedLength>=i.modifiedStart){var o=e.originalStart,a=e.originalLength,s=e.modifiedStart,h=e.modifiedLength;return e.originalStart+e.originalLength>=i.originalStart&&(a=i.originalStart+i.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=i.modifiedStart&&(h=i.modifiedStart+i.modifiedLength-e.modifiedStart),r[0]=new t.DiffChange(o,a,s,h),!0}return r[0]=null,!1},e.prototype.ClipDiagonalBound=function(t,e,i,n){if(t>=0&&t<n)return t;var r=e%2==0;return t<0?r===(i%2==0)?0:1:r===((n-i-1)%2==0)?n-1:n-2},e}();exports.LcsDiff=s;"},"sourceMaps":null,"error":null,"hash":"4d9111ca07e8952ffcd67e74da12434a","cacheData":{"env":{}}}